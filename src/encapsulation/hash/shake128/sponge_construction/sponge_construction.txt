Function : Z = SPONGE[f,pad,r](N,d)[4]

Analogy : arbitrary num of input bits are absorbed into the state
of the function, after which an arbitrary number of output bits are squeezed out of its state

Construction employs the three components :
1. underlying function on fixed-length strings, denoted by fixed
2. parameter called the rate, denoted by r and
3. a padding rule, denoted by pad

Input : 
1. bit string N
2. bit length d (of the output string)

function f : maps strings of a single, fixed length, denoted by b
to strings of the same length

rate r : positive integer that is strictly less than width b 
pad : padded input string can be partitioned into a sequence of r-bit strings

-- SHAKE 128 PARAMS --
SHAKE128(M,d) = Keccak[256](M||1111,d)

Inputs
M (input string) = 256 + 4 = 260 bits
d (output length)
    - Noise char = 1024 bits
    - Public Matrix = 5376 bits

SHAKE128 Definition (Const)
r (rate) = 1344 bits
c (capacity) = 256 bits
b (width of f, permutation) = 1600 bits

-- STEPS --
Absorbtion
1. Padding. Input 260 bits || pad 1084 bits = Return 1344 bits
2. calculate #blocks for input = 1344/r=1344 = 1 block
3. calculate security bits based on r (returns 256 bits)
4. let P = 1344 bits string (we only have 1 state so no need for other P)
5. Let State S = 1600 bits of zeros
6. XOR the 1600 state with (1344 || 256 bits of 0's) to absorbed
    6.1 Call permutation (only once for SHAKE128 cuz we only use 1 state)

Squeezing
7. Let Z be empty string (for output)
loop
8. Let Z = Z || Trunc(S)r. get first 1344 bits from state and append to Z 
9. If d <= Z, then return Trunc(Z)d. else continue
    d1 = 1024 : return 1024 bits of output. dont permute again
    d2 = 5376 : Permute the state 1600b state again and continue with step 8 until Z is bigger than d 



